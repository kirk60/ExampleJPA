--
--	Generated by TOAD
--
CREATE TABLE `bookinstance` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `bookMasterRef` int(11) NOT NULL,
  `datePurchased` date NOT NULL,
  PRIMARY KEY (`id`),
  KEY `bookMasterRef` (`bookMasterRef`),
  CONSTRAINT `bookinstance_ibfk_1` FOREIGN KEY (`bookMasterRef`) REFERENCES `bookmaster` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=179 DEFAULT CHARSET=latin1;

CREATE TABLE `bookinstancehistory` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `BookInstanceRef` int(11) NOT NULL,
  `PeopleRef` int(11) NOT NULL,
  `Checkout` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `Returned` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  `DueBack` timestamp NOT NULL DEFAULT '0000-00-00 00:00:00',
  PRIMARY KEY (`id`),
  KEY `BookInstanceRef` (`BookInstanceRef`),
  KEY `PeopleRef` (`PeopleRef`),
  CONSTRAINT `bookinstancehistory_ibfk_1` FOREIGN KEY (`BookInstanceRef`) REFERENCES `bookinstance` (`id`),
  CONSTRAINT `bookinstancehistory_ibfk_2` FOREIGN KEY (`PeopleRef`) REFERENCES `people` (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=365 DEFAULT CHARSET=latin1;

CREATE TABLE `bookmaster` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `author` varchar(40) NOT NULL,
  `title` varchar(40) NOT NULL,
  `ISBN` varchar(20) NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=102 DEFAULT CHARSET=latin1;

CREATE TABLE `people` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `name` varchar(60) NOT NULL,
  `phone` varchar(20) DEFAULT NULL,
  `email` varchar(40) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=112 DEFAULT CHARSET=latin1;

